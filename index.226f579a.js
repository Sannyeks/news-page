var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in i){var a=i[e];delete i[e];var s={id:e,exports:{}};return t[e]=s,a.call(s.exports,s,s.exports),s.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},e.parcelRequired7c6=a);var s=a("eVqJU"),r=a("bkgkh"),d=a("3lSCO"),l=a("6W1HG"),n=a("2cKMc");const o=document.getElementById("small-paginator-btns");const c={body:[],firstNews:0,lastNews:0,perPage:0,page:1,indexOfActivePage:0,getPages(){return Math.ceil(this.body.length/this.perPage)},initOrderNews(){this.lastNews=this.perPage,this.firstNews=0},cutToLimitOrder(){this.page=this.getPages(),this.lastNews=this.body.length,this.firstNews=this.body.length-this.perPage},resetLimitOrder(){this.page=1,this.lastNews=this.perPage,this.firstNews=0},increasePage(){this.page+=1,this.indexOfActivePage+=1},decreasePage(){this.page-=1,this.indexOfActivePage-=1},increaseStep(){this.firstNews+=this.perPage,this.lastNews+=this.perPage},decreaseStep(){this.firstNews-=this.perPage,this.lastNews-=this.perPage},addToBody(e){this.body=[...e]},sliceBody(){return this.body.slice(this.firstNews,this.lastNews)},getIndexOfActivePage(){return this.indexOfActivePage}};function g(e){const t=[];return e.map((({title:e,url:i,published_date:a,abstract:s,section:r,id:d,media:l})=>{const n={headline:e,web_url:i,pub_date:a,lead_paragraph:s,news_desk:r,bigSquareImg:l.length>0?l[0]["media-metadata"][2].url:"https://as1.ftcdn.net/v2/jpg/00/77/50/78/500_F_77507884_B00iVspJkgxbh6o1JuKza9qYpioCZ9ja.jpg",id:d};t.push(n)})),o.innerHTML=function(){let e="";for(let t=1;t<=c.getPages();t+=1)e+=`<li><button type="button" class="buttons" value="${t}" id="small-pag-btn">${t}</button><li>`;return e}(),t}!function(){const e=window.matchMedia("(min-width: 1280px)"),t=window.matchMedia("(min-width: 768px)"),i=window.matchMedia("(max-width: 767px)");e.matches?c.perPage=8:t.matches?c.perPage=7:i.matches&&(c.perPage=4)}(),c.initOrderNews(),(0,d.default)("https://api.nytimes.com/svc/mostpopular/v2/emailed/7.json?api-key=3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv").then((e=>{const t=e.results;c.addToBody(t)})).then((()=>{l.headerRefs.list.replaceChildren((0,s.default)(g(c.sliceBody()))),document.querySelectorAll("#small-pag-btn")[c.getIndexOfActivePage()].classList.add("isActivePage"),(0,r.initWeather)()})),l.headerRefs.nextArrow.addEventListener("click",(function(){0===c.firstNews&&c.resetLimitOrder();c.page<=c.getPages()?(c.increaseStep(),c.increasePage(),l.headerRefs.backArrow.removeAttribute("disabled"),l.headerRefs.list.replaceChildren((0,s.default)(g(c.sliceBody()))),document.querySelectorAll("#small-pag-btn")[c.indexOfActivePage].classList.add("isActivePage"),(0,r.initWeather)()):c.page>c.getPages()&&(c.cutToLimitOrder(),l.headerRefs.nextArrow.setAttribute("disabled",!0));Number(document.querySelectorAll("#small-pag-btn")[c.indexOfActivePage].value)===c.getPages()&&l.headerRefs.nextArrow.setAttribute("disabled",!0);(0,n.default)()})),l.headerRefs.backArrow.addEventListener("click",(function(){c.page>0&&(c.decreasePage(),c.decreaseStep(),l.headerRefs.nextArrow.removeAttribute("disabled"),l.headerRefs.list.replaceChildren((0,s.default)(g(c.sliceBody()))),document.querySelectorAll("#small-pag-btn")[c.indexOfActivePage].classList.add("isActivePage"),(0,r.initWeather)());0!==c.page&&0!==c.firstNews||l.headerRefs.backArrow.setAttribute("disabled",!0);c.firstNews<0&&(c.firstNews=0);(0,n.default)()})),o.addEventListener("click",(function(e){"small-pag-btn"===e.target.id&&(c.page=e.target.value,c.indexOfActivePage=c.page-1,c.firstNews=c.indexOfActivePage*c.perPage,c.lastNews=c.firstNews+c.perPage,l.headerRefs.list.replaceChildren((0,s.default)(g(c.sliceBody()))),document.querySelectorAll("#small-pag-btn")[c.page-1].classList.add("isActivePage"),(0,n.default)(),(0,r.initWeather)());if(1===Number(e.target.value))return l.headerRefs.backArrow.setAttribute("disabled",!0),void l.headerRefs.nextArrow.removeAttribute("disabled");l.headerRefs.backArrow.removeAttribute("disabled");if(Number(e.target.value)===c.getPages())return l.headerRefs.nextArrow.setAttribute("disabled",!0),void l.headerRefs.backArrow.removeAttribute("disabled");l.headerRefs.nextArrow.removeAttribute("disabled")}));
//# sourceMappingURL=index.226f579a.js.map
