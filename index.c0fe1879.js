!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i);var a=i("bpxeT"),s=i("2TvXO"),c=(i("bpxeT"),i("2TvXO"),a=i("bpxeT"),s=i("2TvXO"),"api-key=3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv"),o="https://api.nytimes.com/svc";"https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?".concat(c);function u(){return d.apply(this,arguments)}function d(){return(d=e(a)(e(s).mark((function t(){var n,r,i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/news/v3/content/section-list.json?").concat(c));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,i=r.results,e.abrupt("return",i);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var l=document.querySelector(".buttons-list"),p=document.querySelector("#btn-open-category"),m=document.querySelector(".category__menu");function h(){return(h=e(a)(e(s).mark((function t(n){var r,i,a,c;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:r=e.sent,i=r,window.matchMedia("(max-width: 767px)").matches&&(l.innerHTML="",n.innerHTML=v(i)),window.matchMedia("(min-width: 768px) and (max-width: 1279px)").matches&&(l.innerHTML="",a=w(i,4),n.innerHTML=v(a[1]),l.insertAdjacentHTML("beforeend",g(a[0]))),window.matchMedia("(min-width: 1280px)").matches&&(l.innerHTML="",c=w(i,6),n.innerHTML=v(c[1]),l.insertAdjacentHTML("beforeend",g(c[0]))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(error);case 13:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function f(e){if(m.classList.contains("is-open-categories"))if(m.classList.remove("is-open-categories"),e.length<18)p.firstChild.textContent=e;else{var t="".concat(e.slice(0,15),"...");p.firstChild.textContent=t}else window.matchMedia("(max-width: 767px)").matches&&(p.firstChild.textContent="Categories"),window.matchMedia("(min-width: 768px)").matches&&(p.firstChild.textContent="Others")}function v(e){return e.map((function(e){var t=e.section,n=e.display_name;return"<li class='category__item'>\n        <button class=\"btn-item\"\n            data-btn=".concat(x(t),">").concat(n,"</button>\n            </li>")})).join(" ")}function g(e){return e.map((function(e){var t=e.section,n=e.display_name;return"<li class='buttons-list__item'>\n        <button class='buttons-list__button' data-btn=".concat(x(t),">\n        ").concat(n,"</button>\n        </li>")})).join(" ")}function w(e,t){var n=[];return n.push(e.slice(0,t)),n.push(e.slice(t)),n}function x(e){return encodeURIComponent(e)}var b=i("7iFtI"),y=i("fMavV"),_=i("crlC9"),L=document.querySelector(".buttons-list"),M=document.querySelector("#btn-open-category"),T=document.querySelector(".category__menu"),C=document.querySelector(".arrow-icon");!function(e){h.apply(this,arguments)}(T),f(),L.addEventListener("click",(function(e){_.headerRefs.paginator.innerHTML="",k(e.target.dataset.btn).then((function(e){document.querySelector(".popular-articles__list").replaceChildren((0,b.default)(e)),(0,y.initWeather)()}))})),M.addEventListener("click",(function(){var e="true"===M.getAttribute("aria-expanded")||!1;M.setAttribute("aria-expanded",!e),T.classList.toggle("is-open-categories"),T.classList.contains("is-open-categories")&&C.classList.add("open-categories");T.classList.contains("is-open-categories")||(C.classList.remove("open-categories"),M.blur())})),T.addEventListener("click",(function(e){var t=e.target.dataset.btn,n=e.target.innerText;k(t).then((function(e){document.querySelector(".popular-articles__list").replaceChildren((0,b.default)(e)),(0,y.initWeather)()})),f(decodeURIComponent(n)),T.classList.remove("is-open-categories"),C.classList.add("open-categories"),M.focus()})),window.onclick=function(e){e.target.matches(".category__btn")||e.target.matches(".btn-item")||T.classList.contains("is-open-categories")&&T.classList.remove("is-open-categories"),e.target.matches(".category__btn")||C.classList.contains("open-categories")&&C.classList.remove("open-categories")};var q="3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv";function k(e){return H.apply(this,arguments)}function H(){return(H=e(a)(e(s).mark((function t(n){var r,i,a,c,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n,e.next=3,fetch("https://api.nytimes.com/svc/news/v3/content/nyt/".concat(r,".json?api-key=").concat(q));case 3:return i=e.sent,e.next=6,i.json();case 6:return a=e.sent,c=a.results,o=[],c.map((function(e){var t=e.title,n=e.url,r=e.published_date,i=e.abstract,a=e.section,s=e.id,c=e.multimedia,u={headline:t,web_url:n,pub_date:r,lead_paragraph:i,news_desk:a,bigSquareImg:c?c[3].url:"https://as1.ftcdn.net/v2/jpg/00/77/50/78/500_F_77507884_B00iVspJkgxbh6o1JuKza9qYpioCZ9ja.jpg",id:s};o.push(u)})),o.length=j(),e.abrupt("return",o);case 12:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function j(){var e=window.matchMedia("(min-width: 1280px)"),t=window.matchMedia("(min-width: 768px)"),n=window.matchMedia("(max-width: 767px)");return e.matches?8:t.matches?7:n.matches?4:void 0}}();
//# sourceMappingURL=index.c0fe1879.js.map
