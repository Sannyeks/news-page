var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},i=t.parcelRequired7c6;null==i&&((i=function(t){if(t in e)return e[t].exports;if(t in n){var i=n[t];delete n[t];var s={id:t,exports:{}};return e[t]=s,i.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){n[t]=e},t.parcelRequired7c6=i);async function s(){const t=await fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv"),e=await t.json();let{results:n}=e;return n}const o=document.querySelector(".buttons-list"),a=document.querySelector("#btn-open-category"),c=document.querySelector(".category__menu");function r(t){if(c.classList.contains("is-open-categories"))if(c.classList.remove("is-open-categories"),t.length<18)a.firstChild.textContent=t;else{const e=`${t.slice(0,15)}...`;a.firstChild.textContent=e}else window.matchMedia("(max-width: 767px)").matches&&(a.firstChild.textContent="Categories"),window.matchMedia("(min-width: 768px)").matches&&(a.firstChild.textContent="Others")}function d(t){return t.map((({section:t,display_name:e})=>`<li class='category__item'>\n        <button class="btn-item"\n            data-btn=${p(t)}>${e}</button>\n            </li>`)).join(" ")}function l(t){return t.map((({section:t,display_name:e})=>`<li class='buttons-list__item'>\n        <button class='buttons-list__button' data-btn=${p(t)}>\n        ${e}</button>\n        </li>`)).join(" ")}function u(t,e){const n=[];return n.push(t.slice(0,e)),n.push(t.slice(e)),n}function p(t){return encodeURIComponent(t)}var m=i("eVqJU"),h=i("bkgkh"),f=i("6W1HG");const g=document.querySelector(".buttons-list"),w=document.querySelector("#btn-open-category"),b=document.querySelector(".category__menu"),y=document.querySelector(".arrow-icon");!async function(t){try{const e=await s();if(window.matchMedia("(max-width: 767px)").matches&&(o.innerHTML="",t.innerHTML=d(e)),window.matchMedia("(min-width: 768px) and (max-width: 1279px)").matches){o.innerHTML="";const n=u(e,4);t.innerHTML=d(n[1]),o.insertAdjacentHTML("beforeend",l(n[0]))}if(window.matchMedia("(min-width: 1280px)").matches){o.innerHTML="";const n=u(e,6);t.innerHTML=d(n[1]),o.insertAdjacentHTML("beforeend",l(n[0]))}}catch{console.log(error)}}(b),r(),g.addEventListener("click",(function(t){f.headerRefs.paginator.innerHTML="";x(t.target.dataset.btn).then((t=>{document.querySelector(".popular-articles__list").replaceChildren((0,m.default)(t)),(0,h.initWeather)()}))})),w.addEventListener("click",(function(){const t="true"===w.getAttribute("aria-expanded")||!1;w.setAttribute("aria-expanded",!t),b.classList.toggle("is-open-categories"),b.classList.contains("is-open-categories")&&y.classList.add("open-categories");b.classList.contains("is-open-categories")||(y.classList.remove("open-categories"),w.blur())})),b.addEventListener("click",(function(t){const e=t.target.dataset.btn,n=t.target.innerText;x(e).then((t=>{document.querySelector(".popular-articles__list").replaceChildren((0,m.default)(t)),(0,h.initWeather)()})),r(decodeURIComponent(n)),b.classList.remove("is-open-categories"),y.classList.add("open-categories"),w.focus()})),window.onclick=t=>{t.target.matches(".category__btn")||t.target.matches(".btn-item")||b.classList.contains("is-open-categories")&&b.classList.remove("is-open-categories"),t.target.matches(".category__btn")||y.classList.contains("open-categories")&&y.classList.remove("open-categories")};async function x(t){const e=t,n=await fetch(`https://api.nytimes.com/svc/news/v3/content/nyt/${e}.json?api-key=3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv`),i=await n.json(),{results:s}=i,o=[];return s.map((({title:t,url:e,published_date:n,abstract:i,section:s,id:a,multimedia:c})=>{const r={headline:t,web_url:e,pub_date:n,lead_paragraph:i,news_desk:s,bigSquareImg:c?c[3].url:"https://as1.ftcdn.net/v2/jpg/00/77/50/78/500_F_77507884_B00iVspJkgxbh6o1JuKza9qYpioCZ9ja.jpg",id:a};o.push(r)})),o.length=function(){const t=window.matchMedia("(min-width: 1280px)"),e=window.matchMedia("(min-width: 768px)"),n=window.matchMedia("(max-width: 767px)");if(t.matches)return 8;if(e.matches)return 7;if(n.matches)return 4}(),o}
//# sourceMappingURL=index.82dcf5db.js.map
